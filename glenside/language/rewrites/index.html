<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `rewrites` mod in crate `glenside`."><meta name="keywords" content="rust, rustlang, rust-lang, rewrites"><title>glenside::language::rewrites - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings"></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg">
<link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../glenside/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><p class="location">Module rewrites</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></div><p class="location"><a href="../../index.html">glenside</a>::<wbr><a href="../index.html">language</a></p><div id="sidebar-vars" data-name="rewrites" data-ty="mod" data-relpath="../"></div><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../../../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../../index.html">glenside</a>::<wbr><a href="../index.html">language</a>::<wbr><a class="mod" href="">rewrites</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../../src/glenside/language/rewrites.rs.html#1-4865" title="goto source code">[src]</a></span></h1><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.RewriteNonMatchingCartConcatenateApplier.html" title="glenside::language::rewrites::RewriteNonMatchingCartConcatenateApplier struct">RewriteNonMatchingCartConcatenateApplier</a></td><td class="docblock-short"></td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.PadLocation.html" title="glenside::language::rewrites::PadLocation enum">PadLocation</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.PadSliceStrategy.html" title="glenside::language::rewrites::PadSliceStrategy enum">PadSliceStrategy</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="enum" href="enum.SliceConcatenateStrategy.html" title="glenside::language::rewrites::SliceConcatenateStrategy enum">SliceConcatenateStrategy</a></td><td class="docblock-short"></td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.access_slice_access_transpose_composition_commutative.html" title="glenside::language::rewrites::access_slice_access_transpose_composition_commutative fn">access_slice_access_transpose_composition_commutative</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_concatenate_through_access.html" title="glenside::language::rewrites::bubble_access_concatenate_through_access fn">bubble_access_concatenate_through_access</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_concatenate_through_access_cartesian_product_not_item_axis_left.html" title="glenside::language::rewrites::bubble_access_concatenate_through_access_cartesian_product_not_item_axis_left fn">bubble_access_concatenate_through_access_cartesian_product_not_item_axis_left</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_concatenate_through_access_cartesian_product_not_item_axis_right.html" title="glenside::language::rewrites::bubble_access_concatenate_through_access_cartesian_product_not_item_axis_right fn">bubble_access_concatenate_through_access_cartesian_product_not_item_axis_right</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_concatenate_through_access_cartesian_product_same_item_axis.html" title="glenside::language::rewrites::bubble_access_concatenate_through_access_cartesian_product_same_item_axis fn">bubble_access_concatenate_through_access_cartesian_product_same_item_axis</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_concatenate_through_access_slice.html" title="glenside::language::rewrites::bubble_access_concatenate_through_access_slice fn">bubble_access_concatenate_through_access_slice</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_concatenate_through_access_transpose.html" title="glenside::language::rewrites::bubble_access_concatenate_through_access_transpose fn">bubble_access_concatenate_through_access_transpose</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_concatenate_through_compute_dot_product_item_axis.html" title="glenside::language::rewrites::bubble_access_concatenate_through_compute_dot_product_item_axis fn">bubble_access_concatenate_through_compute_dot_product_item_axis</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_concatenate_through_compute_dot_product_not_item_axis.html" title="glenside::language::rewrites::bubble_access_concatenate_through_compute_dot_product_not_item_axis fn">bubble_access_concatenate_through_compute_dot_product_not_item_axis</a></td><td class="docblock-short"><p>When bubbling up through (compute dot-product …), what you do depends on
whether you’re concatenating along an item axis or not. If you are not, it’s
easy: you just bubble it straight through. If you are, then you are
concatenating along an axis that’s getting reduced in the reduction sum. So
we need to explicitly insert another reduction.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_slice_through_access_cartesian_product_not_item_axis_left.html" title="glenside::language::rewrites::bubble_access_slice_through_access_cartesian_product_not_item_axis_left fn">bubble_access_slice_through_access_cartesian_product_not_item_axis_left</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_slice_through_access_cartesian_product_not_item_axis_right.html" title="glenside::language::rewrites::bubble_access_slice_through_access_cartesian_product_not_item_axis_right fn">bubble_access_slice_through_access_cartesian_product_not_item_axis_right</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_slice_through_access_cartesian_product_same_item_axis.html" title="glenside::language::rewrites::bubble_access_slice_through_access_cartesian_product_same_item_axis fn">bubble_access_slice_through_access_cartesian_product_same_item_axis</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_slice_through_access_pad_inequal_axes.html" title="glenside::language::rewrites::bubble_access_slice_through_access_pad_inequal_axes fn">bubble_access_slice_through_access_pad_inequal_axes</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_slice_through_compute_dot_product_item_axis_not_tuple_axis.html" title="glenside::language::rewrites::bubble_access_slice_through_compute_dot_product_item_axis_not_tuple_axis fn">bubble_access_slice_through_compute_dot_product_item_axis_not_tuple_axis</a></td><td class="docblock-short"><p>If we’re slicing in an item axis that isn’t the tuple axis (i.e. the first
item axis), then computing before slicing has the potential to affect the
computation, as it is adding data. So we need to be able to prove that this
region will not affect the computation.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_slice_through_compute_dot_product_not_item_axis.html" title="glenside::language::rewrites::bubble_access_slice_through_compute_dot_product_not_item_axis fn">bubble_access_slice_through_compute_dot_product_not_item_axis</a></td><td class="docblock-short"><p>If we’re not slicing in an axis that’s being computed over, then removing
the slice has no potential to effect the computation. It will just result in
a larger computation, with some of the data being sliced away.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_access_transpose_through_access_pad.html" title="glenside::language::rewrites::bubble_access_transpose_through_access_pad fn">bubble_access_transpose_through_access_pad</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_concatenate_through_cartesian_product_axis_0_0.html" title="glenside::language::rewrites::bubble_concatenate_through_cartesian_product_axis_0_0 fn">bubble_concatenate_through_cartesian_product_axis_0_0</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_concatenate_through_cartesian_product_last_axis.html" title="glenside::language::rewrites::bubble_concatenate_through_cartesian_product_last_axis fn">bubble_concatenate_through_cartesian_product_last_axis</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_concatenate_through_cartesian_product_not_last_axis_left.html" title="glenside::language::rewrites::bubble_concatenate_through_cartesian_product_not_last_axis_left fn">bubble_concatenate_through_cartesian_product_not_last_axis_left</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_concatenate_through_cartesian_product_not_last_axis_right.html" title="glenside::language::rewrites::bubble_concatenate_through_cartesian_product_not_last_axis_right fn">bubble_concatenate_through_cartesian_product_not_last_axis_right</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_concatenate_through_map_dot_product_last_axis.html" title="glenside::language::rewrites::bubble_concatenate_through_map_dot_product_last_axis fn">bubble_concatenate_through_map_dot_product_last_axis</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_concatenate_through_map_dot_product_not_last_axis.html" title="glenside::language::rewrites::bubble_concatenate_through_map_dot_product_not_last_axis fn">bubble_concatenate_through_map_dot_product_not_last_axis</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_concatenate_through_move_axis.html" title="glenside::language::rewrites::bubble_concatenate_through_move_axis fn">bubble_concatenate_through_move_axis</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_reshape_through_cartesian_product.html" title="glenside::language::rewrites::bubble_reshape_through_cartesian_product fn">bubble_reshape_through_cartesian_product</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.bubble_reshape_through_compute_dot_product.html" title="glenside::language::rewrites::bubble_reshape_through_compute_dot_product fn">bubble_reshape_through_compute_dot_product</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.collapse_nested_access_slices.html" title="glenside::language::rewrites::collapse_nested_access_slices fn">collapse_nested_access_slices</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.collapse_nested_accesses.html" title="glenside::language::rewrites::collapse_nested_accesses fn">collapse_nested_accesses</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.collapse_nested_slices.html" title="glenside::language::rewrites::collapse_nested_slices fn">collapse_nested_slices</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.collapse_nested_transposes.html" title="glenside::language::rewrites::collapse_nested_transposes fn">collapse_nested_transposes</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.flatten_unflatten_any_access.html" title="glenside::language::rewrites::flatten_unflatten_any_access fn">flatten_unflatten_any_access</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.has_shape.html" title="glenside::language::rewrites::has_shape fn">has_shape</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.is_symbol.html" title="glenside::language::rewrites::is_symbol fn">is_symbol</a></td><td class="docblock-short"><p>short_circuit lets us return early if we don’t actually care about the
result of this check. This is the easiest way I could find to do this using
egg’s conditional appliers.
TODO(@gussmith23) make this cleaner</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.pad_slice_accesses.html" title="glenside::language::rewrites::pad_slice_accesses fn">pad_slice_accesses</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.remove_trivial_transpose.html" title="glenside::language::rewrites::remove_trivial_transpose fn">remove_trivial_transpose</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.rewrite_nonmatching_cartesian_product_concatenate.html" title="glenside::language::rewrites::rewrite_nonmatching_cartesian_product_concatenate fn">rewrite_nonmatching_cartesian_product_concatenate</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.slice_concatenate_accesses.html" title="glenside::language::rewrites::slice_concatenate_accesses fn">slice_concatenate_accesses</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.slice_concatenate_tensor_accesses.html" title="glenside::language::rewrites::slice_concatenate_tensor_accesses fn">slice_concatenate_tensor_accesses</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.slice_move_axis_composition_commutative.html" title="glenside::language::rewrites::slice_move_axis_composition_commutative fn">slice_move_axis_composition_commutative</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.split.html" title="glenside::language::rewrites::split fn">split</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.systolic_array.html" title="glenside::language::rewrites::systolic_array fn">systolic_array</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.systolic_array_conv2d_im2col_fc_with_blocking.html" title="glenside::language::rewrites::systolic_array_conv2d_im2col_fc_with_blocking fn">systolic_array_conv2d_im2col_fc_with_blocking</a></td><td class="docblock-short"><p>TODO(@gussmith23) This is a hack
This is pretty hyper-specific to how we currently implement conv2d when reading from Relay. That is, to implement conv2d, we transpose to NCHW</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.systolic_array_conv2d_im2col_nchw_oihw_with_blocking.html" title="glenside::language::rewrites::systolic_array_conv2d_im2col_nchw_oihw_with_blocking fn">systolic_array_conv2d_im2col_nchw_oihw_with_blocking</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.systolic_array_conv2d_im2col_nhwc_hwio_with_blocking.html" title="glenside::language::rewrites::systolic_array_conv2d_im2col_nhwc_hwio_with_blocking fn">systolic_array_conv2d_im2col_nhwc_hwio_with_blocking</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.systolic_array_conv2d_nchw_oihw_with_blocking.html" title="glenside::language::rewrites::systolic_array_conv2d_nchw_oihw_with_blocking fn">systolic_array_conv2d_nchw_oihw_with_blocking</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.systolic_array_conv2d_nhwc_hwio_with_blocking.html" title="glenside::language::rewrites::systolic_array_conv2d_nhwc_hwio_with_blocking fn">systolic_array_conv2d_nhwc_hwio_with_blocking</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.systolic_array_vector_matrix.html" title="glenside::language::rewrites::systolic_array_vector_matrix fn">systolic_array_vector_matrix</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="fn" href="fn.systolic_array_with_blocking.html" title="glenside::language::rewrites::systolic_array_with_blocking fn">systolic_array_with_blocking</a></td><td class="docblock-short"><p>Tensorizes a computation to an externally-blocked systolic array.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="glenside" data-search-js="../../../search-index.js"></div>
    <script src="../../../main.js"></script></body></html>